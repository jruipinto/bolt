<div class="sticky">
  <h3>
    AssistÃªncias activas
    <span
      class="badge badge-light-blue"
      *ngIf="assistenciasTodas$ | async as assistencias"
    >
      <span *ngIf="assistencias && assistencias.length < 100">
        {{ assistencias.length }}</span
      >
      <span *ngIf="assistencias && assistencias.length > 99"> 99+</span>
    </span>
  </h3>

  <clr-tabs (window:resize)="onResize($event)">
    <clr-tab>
      <button clrTabLink (click)="filterAssistencias('minhas')">
        Minhas
        <span class="badge" *ngIf="assistenciasMinhas$ | async as assistencias">
          <span *ngIf="assistencias.length < 100">
            {{ assistencias.length }}</span
          >
          <span *ngIf="assistencias.length > 99"> 99+</span>
        </span>
      </button>
    </clr-tab>
    <clr-tab>
      <button
        clrTabLink
        (click)="filterAssistencias('a fechar')"
        [clrTabLinkInOverflow]="isSmallScreen"
      >
        A fechar
        <span
          class="badge"
          *ngIf="assistenciasAFechar$ | async as assistencias"
        >
          <span *ngIf="assistencias.length < 100">
            {{ assistencias.length }}</span
          >
          <span *ngIf="assistencias.length > 99"> 99+</span>
        </span>
      </button>
    </clr-tab>
    <clr-tab>
      <button
        clrTabLink
        (click)="filterAssistencias('todas')"
        [clrTabLinkInOverflow]="isSmallScreen"
      >
        Todas
        <span class="badge" *ngIf="assistenciasTodas$ | async as assistencias">
          <span *ngIf="assistencias.length < 100">
            {{ assistencias.length }}</span
          >
          <span *ngIf="assistencias.length > 99"> 99+</span>
        </span>
      </button>
    </clr-tab>
  </clr-tabs>
</div>

<app-assistencia-row-list
  [assistencias$]="assistencias$"
  [isLoading]="isLoading"
></app-assistencia-row-list>
